<!-- File: src/app/app.html -->
<div class="relative overflow-hidden page-shell bg-slate-900">
  <!-- Glow bakgrunn (under alt innhold) -->
  <div
    class="absolute pointer-events-none -inset-10 bg-gradient-to-tr from-cyan-500 via-teal-500 to-blue-500 blur-3xl opacity-40"
  ></div>
  <div
    class="absolute left-0 pointer-events-none inset-y-1/4 w-80 h-80 bg-gradient-to-br from-purple-600 via-pink-500 to-indigo-500 blur-2xl opacity-30"
  ></div>

  <!-- Hovedinnhold -->
  <div
    class="main-wrap relative z-10 flex flex-col items-center justify-start min-h-[100svh] p-6 font-sans"
  >
    <!-- Startskjerm hvis ikke navn -->
    <ng-container *ngIf="!hasName; else content">
      <div class="flex items-center justify-center w-full">
        <div class="w-full max-w-md space-y-4 text-center card animate-fade-in">
          <!-- Logo -->
          <img src="assets/images/ToDo-logo.png" alt="App logo" class="w-24 h-auto mx-auto mb-4" />

          <h1 class="text-3xl font-bold text-green-300">{{ 'APP.ASK_NAME' | translate }}</h1>
          <p class="text-sm text-white/70">{{ 'APP.TAGLINE' | translate }}</p>

          <input
            [(ngModel)]="tempName"
            class="w-full input"
            [placeholder]="'APP.PLACEHOLDER_NAME' | translate"
          />
          <button (click)="saveName()" class="w-full btn btn-primary">
            {{ 'APP.CONTINUE' | translate }}
          </button>
        </div>
      </div>
    </ng-container>
    <div class="mx-auto mb-4 lang-switch">
      <img
        *ngFor="let langObj of supportedLanguages"
        [src]="'assets/images/icons/' + langObj.code + '.png'"
        [alt]="langObj.label"
        class="lang-flag"
        (click)="changeLang(langObj.code)"
        [class.inactive]="langObj.code !== lang"
        [title]="langObj.label"
      />
    </div>
    <!-- App-innhold når vi har navn -->
    <ng-template #content>
      <header class="mb-6 text-center animate-fade-in">
        <!-- Logo over tittel -->
        <img src="assets/images/ToDo-logo.png" alt="App logo" class="w-20 h-auto mx-auto mb-4" />

        <h1 class="text-4xl font-bold text-green-300">
          {{ 'APP.GREETING' | translate : { name: name } }}
        </h1>
        <p class="mt-2 text-white/70">{{ 'APP.TAGLINE' | translate }}</p>
      </header>
      <!-- Global språkvelger – alltid synlig, horisontal og sentrert -->
      <app-todo></app-todo>

      <footer class="mt-10 text-xs text-white/40">{{ 'APP.FOOTER' | translate }}</footer>
    </ng-template>
  </div>
</div>

<!--
SAMMENDRAG – hva denne templaten gjør
----------------------------------------------------
• Viser en navneskjerm når `name` er falsy:
    - Input bundet til `tempName` (ngModel) + knapp som kaller `saveName()`.
    - Krever at App-komponenten importerer FormsModule (ellers kompileringsfeil på ngModel).

• Når `name` finnes:
    - Viser hilsen med {{ name }}, todo-komponenten (<app-todo>) og en enkel footer.
    - Krever at App-komponenten importerer Todo i @Component({ imports: [Todo, FormsModule] }).

• Visuell bakgrunn:
    - To absolutte <div>-lag med gradient/blur for «glow».
    - Selve innholdet ligger i en z-10-container (over glow).

• Anbefaling (struktur):
    - Flytt body-klasser til src/index.html sin <body> ELLER erstatt <body> her med en <div>.
    - Eksempel (hvis du bytter til <div>): <div class="relative min-h-screen overflow-hidden bg-slate-900"> … </div>

• Kodekrevs i App.ts (minimum):
    - public name: string | null = null;
    - public tempName = '';
    - saveName() { const v = this.tempName.trim(); if (v) { this.name = v; /* ev. localStorage.setItem('name', v) */ } }
    - @Component({ imports: [FormsModule, Todo], ... })
----------------------------------------------------
-->
