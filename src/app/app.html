<!-- Fil: src/app/app.html -->
<body class="relative min-h-screen overflow-x-hidden bg-slate-900">
  <!-- Glow bakgrunn -->
  <div
    class="absolute -inset-10 bg-gradient-to-tr from-cyan-500 via-teal-500 to-blue-500 blur-3xl opacity-40"
  ></div>
  <div
    class="absolute left-0 inset-y-1/4 w-80 h-80 bg-gradient-to-br from-purple-600 via-pink-500 to-indigo-500 blur-2xl opacity-30"
  ></div>

  <div class="relative z-10 flex flex-col items-center justify-center min-h-screen p-6 font-sans">
    <ng-container *ngIf="!hasName; else content">
      <div class="flex items-center justify-center w-full h-full">
        <div class="relative w-full max-w-md space-y-4 text-center card animate-fade-in">
          <!-- Språkvelger (øverst til høyre i kortet) -->
          <div class="absolute flex gap-2 right-4 top-4">
            <img
              *ngFor="let langObj of supportedLanguages"
              [src]="'assets/images/icons/' + langObj.code + '.png'"
              [alt]="langObj.label"
              class="w-6 h-6 transition-transform rounded cursor-pointer hover:scale-110"
              (click)="changeLang(langObj.code)"
              [class.opacity-40]="langObj.code !== lang"
              title="{{ langObj.label }}"
            />
          </div>

          <!-- Logo på forsiden -->
          <img src="assets/images/ToDo-logo.png" alt="App logo" class="w-24 h-auto mx-auto mb-4" />

          <h1 class="text-3xl font-bold text-green-300">{{ 'APP.ASK_NAME' | translate }}</h1>
          <p class="text-sm text-white/70">{{ 'APP.TAGLINE' | translate }}</p>

          <input
            [(ngModel)]="tempName"
            class="w-full input"
            [placeholder]="'APP.PLACEHOLDER_NAME' | translate"
          />
          <button (click)="saveName()" class="w-full btn btn-primary">
            {{ 'APP.CONTINUE' | translate }}
          </button>
        </div>
      </div>
    </ng-container>

    <ng-template #content>
      <ng-container *ngIf="isEasterEgg; else todo">
        <app-easter-egg></app-easter-egg>
      </ng-container>

      <ng-template #todo>
        <header class="mb-10 text-center animate-fade-in">
          <!-- Toppstripe med språkvelger -->
          <div class="flex items-center justify-end gap-2 mb-3">
            <img
              *ngFor="let langObj of supportedLanguages"
              [src]="'assets/images/icons/' + langObj.code + '.png'"
              [alt]="langObj.label"
              class="w-6 h-6 transition-transform rounded cursor-pointer hover:scale-110"
              (click)="changeLang(langObj.code)"
              [class.opacity-40]="langObj.code !== lang"
              title="{{ langObj.label }}"
            />
          </div>

          <!-- Logo over tittel på appen -->
          <img src="assets/images/ToDo-logo.png" alt="App logo" class="w-20 h-auto mx-auto mb-4" />

          <h1 class="text-4xl font-bold text-green-300">
            {{ 'APP.GREETING' | translate : { name: name } }}
          </h1>
          <p class="mt-2 text-white/70">{{ 'APP.TAGLINE' | translate }}</p>
        </header>

        <app-todo></app-todo>

        <footer class="mt-10 text-xs text-white/40">{{ 'APP.FOOTER' | translate }}</footer>
      </ng-template>
    </ng-template>
  </div>
</body>

<!--
SAMMENDRAG – hva denne templaten gjør
----------------------------------------------------
• Viser en navneskjerm når `name` er falsy:
    - Input bundet til `tempName` (ngModel) + knapp som kaller `saveName()`.
    - Krever at App-komponenten importerer FormsModule (ellers kompileringsfeil på ngModel).

• Når `name` finnes:
    - Viser hilsen med {{ name }}, todo-komponenten (<app-todo>) og en enkel footer.
    - Krever at App-komponenten importerer Todo i @Component({ imports: [Todo, FormsModule] }).

• Visuell bakgrunn:
    - To absolutte <div>-lag med gradient/blur for «glow».
    - Selve innholdet ligger i en z-10-container (over glow).

• Anbefaling (struktur):
    - Flytt body-klasser til src/index.html sin <body> ELLER erstatt <body> her med en <div>.
    - Eksempel (hvis du bytter til <div>): <div class="relative min-h-screen overflow-hidden bg-slate-900"> … </div>

• Kodekrevs i App.ts (minimum):
    - public name: string | null = null;
    - public tempName = '';
    - saveName() { const v = this.tempName.trim(); if (v) { this.name = v; /* ev. localStorage.setItem('name', v) */ } }
    - @Component({ imports: [FormsModule, Todo], ... })
----------------------------------------------------
-->
