<div class="relative min-h-screen page-shell bg-slate-900 custom-scrollbar">
  <!-- Enhanced Background System -->
  <div class="absolute inset-0 overflow-hidden">
    <!-- Primary gradient mesh -->
    <div
      class="absolute rounded-full -top-40 -right-32 w-80 h-80 opacity-30 blur-3xl bg-gradient-to-br from-cyan-400 via-blue-500 to-purple-600 animate-pulse"
    ></div>
    <div
      class="absolute rounded-full opacity-25 -bottom-40 -left-32 w-96 h-96 blur-3xl bg-gradient-to-tr from-green-400 via-teal-500 to-blue-500 animate-pulse"
      style="animation-delay: 1s"
    ></div>
    <div
      class="absolute w-64 h-64 transform -translate-x-1/2 rounded-full top-1/3 left-1/2 opacity-20 blur-2xl bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 animate-pulse"
      style="animation-delay: 2s"
    ></div>

    <!-- Subtle mesh overlay -->
    <div class="absolute inset-0 opacity-50 gradient-mesh"></div>

    <!-- Floating particles effect -->
    <div class="absolute w-2 h-2 rounded-full top-20 left-20 bg-white/20 animate-pulse"></div>
    <div
      class="absolute w-1 h-1 rounded-full top-40 right-32 bg-green-400/30 animate-pulse"
      style="animation-delay: 0.5s"
    ></div>
    <div
      class="absolute bottom-40 left-1/4 w-1.5 h-1.5 bg-blue-400/25 rounded-full animate-pulse"
      style="animation-delay: 1.5s"
    ></div>
    <div
      class="absolute w-1 h-1 rounded-full top-1/3 right-20 bg-purple-400/30 animate-pulse"
      style="animation-delay: 2.5s"
    ></div>
  </div>

  <!-- Main Content Container -->
  <div class="relative z-10 flex flex-col items-center min-h-screen main-wrap">
    <!-- Enhanced Header with Logo Animation -->
    <div class="w-full max-w-6xl px-6 py-8">
      <!-- Welcome Screen (No Name Set) -->
      <ng-container *ngIf="!hasName; else mainContent">
        <!-- Top Language Switcher -->
        <div class="flex justify-center mb-8">
          <div class="lang-switch animate-slide-up" aria-label="Language switcher">
            <img
              *ngFor="let langObj of supportedLanguages"
              [src]="'assets/images/icons/' + langObj.code + '.png'"
              [alt]="langObj.label"
              class="lang-flag"
              (click)="changeLang(langObj.code)"
              [class.inactive]="langObj.code !== lang"
              [title]="langObj.label"
            />
          </div>
        </div>

        <!-- Welcome Card -->
        <div class="flex items-center justify-center min-h-[60vh]">
          <div class="w-full max-w-md">
            <div class="p-8 text-center card animate-fade-in">
              <!-- Animated Logo -->
              <div class="relative mb-8">
                <div
                  class="absolute inset-0 rounded-full bg-green-500/20 blur-xl animate-glow"
                ></div>
                <img
                  src="assets/images/ToDo-logo.png"
                  alt="App logo"
                  class="relative w-24 h-auto mx-auto transition-transform duration-500 transform hover:scale-110"
                />
              </div>

              <!-- Welcome Text with Gradient -->
              <h1
                class="mb-4 text-4xl font-bold text-transparent bg-gradient-to-r from-green-400 via-teal-400 to-blue-400 bg-clip-text"
              >
                {{ 'APP.ASK_NAME' | translate }}
              </h1>

              <p class="mb-8 text-lg leading-relaxed text-white/70">
                {{ 'APP.TAGLINE' | translate }}
              </p>

              <!-- Enhanced Input with Floating Label -->
              <div class="mb-6 input-group">
                <input
                  [(ngModel)]="tempName"
                  class="py-4 text-lg text-center input"
                  placeholder=" "
                  id="nameInput"
                />
                <label for="nameInput" class="floating-label">{{
                  'APP.PLACEHOLDER_NAME' | translate
                }}</label>
              </div>

              <!-- Premium CTA Button -->
              <button
                (click)="saveName()"
                class="relative w-full py-4 overflow-hidden text-lg btn-primary group"
              >
                <span class="relative z-10 flex items-center justify-center gap-2">
                  <span>{{ 'APP.CONTINUE' | translate }}</span>
                  <svg
                    class="w-5 h-5 transition-transform transform group-hover:translate-x-1"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13 7l5 5m0 0l-5 5m5-5H6"
                    ></path>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
      </ng-container>

      <!-- Main Application Content -->
      <ng-template #mainContent>
        <ng-container *ngIf="isEasterEgg; else todoScreen">
          <app-easter-egg></app-easter-egg>
        </ng-container>

        <ng-template #todoScreen>
          <!-- Premium Header -->
          <header class="mb-8 text-center animate-fade-in">
            <!-- Logo with Enhanced Animation -->
            <div class="relative mb-6">
              <div
                class="absolute inset-0 rounded-full bg-green-500/20 blur-2xl animate-glow"
              ></div>
              <img
                src="assets/images/ToDo-logo.png"
                alt="App logo"
                class="relative w-20 h-auto mx-auto transition-all duration-500 transform hover:scale-110 hover:rotate-3"
              />
            </div>

            <!-- Dynamic Greeting with Time-based Styling -->
            <div class="space-y-3">
              <h1
                class="text-5xl font-bold leading-tight text-transparent lg:text-6xl bg-gradient-to-r from-green-400 via-teal-400 to-blue-400 bg-clip-text"
              >
                {{ 'APP.GREETING' | translate : { name: name } }}
              </h1>

              <p class="max-w-2xl mx-auto text-xl leading-relaxed text-white/70">
                {{ 'APP.TAGLINE' | translate }}
              </p>
            </div>
          </header>

          <!-- Enhanced Language Switcher -->
          <div class="flex justify-center mb-8">
            <div class="lang-switch animate-scale-in" aria-label="Language switcher">
              <img
                *ngFor="let langObj of supportedLanguages"
                [src]="'assets/images/icons/' + langObj.code + '.png'"
                [alt]="langObj.label"
                class="lang-flag"
                (click)="changeLang(langObj.code)"
                [class.inactive]="langObj.code !== lang"
                [title]="langObj.label"
              />
            </div>
          </div>

          <!-- Todo Component Container -->
          <div class="animate-slide-up" style="animation-delay: 0.2s">
            <app-todo></app-todo>
          </div>

          <!-- Premium Footer -->
          <footer class="mt-16 text-center animate-fade-in" style="animation-delay: 0.4s">
            <div
              class="inline-flex items-center gap-2 px-4 py-2 text-sm rounded-full glass text-white/60"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                ></path>
              </svg>
              <span>{{ 'APP.FOOTER' | translate }}</span>
            </div>
          </footer>
        </ng-template>
      </ng-template>
    </div>
  </div>
</div>

<!--
SAMMENDRAG – hva denne templaten gjør
----------------------------------------------------
• Viser en navneskjerm når `name` er falsy:
    - Input bundet til `tempName` (ngModel) + knapp som kaller `saveName()`.
    - Krever at App-komponenten importerer FormsModule (ellers kompileringsfeil på ngModel).

• Når `name` finnes:
    - Viser hilsen med {{ name }}, todo-komponenten (<app-todo>) og en enkel footer.
    - Krever at App-komponenten importerer Todo i @Component({ imports: [Todo, FormsModule] }).

• Visuell bakgrunn:
    - To absolutte <div>-lag med gradient/blur for «glow».
    - Selve innholdet ligger i en z-10-container (over glow).

• Anbefaling (struktur):
    - Flytt body-klasser til src/index.html sin <body> ELLER erstatt <body> her med en <div>.
    - Eksempel (hvis du bytter til <div>): <div class="relative min-h-screen overflow-hidden bg-slate-900"> … </div>

• Kodekrevs i App.ts (minimum):
    - public name: string | null = null;
    - public tempName = '';
    - saveName() { const v = this.tempName.trim(); if (v) { this.name = v; /* ev. localStorage.setItem('name', v) */ } }
    - @Component({ imports: [FormsModule, Todo], ... })
----------------------------------------------------
-->
